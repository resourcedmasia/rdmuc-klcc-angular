<div class="card">
    <h4 class="card-header">
      Rules&nbsp;<span class="badge badge-danger">{{ rows.length }}</span>
      <button class="float-sm-right btn btn-primary" (click)="openAddRuleModal()"><i class="ion ion-md-add"></i>&nbsp;<b>Add New Rule</b></button>
      <div class="float-sm-right" style="padding-right: 10px">
        <input [(ngModel)]="filterkey" class="form-control" type='text' placeholder='Filter by ...' (keyup)='updateFilter($event)'>
      </div>
    </h4>
    <div class="card-ngx-datatable table-responsive">
      <ngx-datatable #table style="min-width: 550px"
        [rows]="rows"
        [loadingIndicator]="loadingIndicator"
        [columnMode]="'force'"
        [headerHeight]="43"
        [footerHeight]="'auto'"
        [rowHeight]="'auto'"
        [reorderable]="false"
        [selectionType]="'row'"
        [limit]="25"
        (activate)="onActivate($event)">
        >
        <ngx-datatable-column name="ID" prop="id"></ngx-datatable-column>
        <ngx-datatable-column name="Site" prop="site"></ngx-datatable-column>
        <ngx-datatable-column name="Controller" [maxWidth]="120" prop="controller"></ngx-datatable-column>
        <ngx-datatable-column name="Asset" prop="title"></ngx-datatable-column>
        <ngx-datatable-column name="Reason" prop="reason"></ngx-datatable-column>
        <ngx-datatable-column name="Priority" prop="priority_label"></ngx-datatable-column>
        <ngx-datatable-column name="Mitigation" prop="mitigation"></ngx-datatable-column>
        <ngx-datatable-column name="Action" [maxWidth]="200" prop="action_list">
          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
            <div class="btn btn-xs btn-warning" (click)="modifyRuleRow(row, $event)"><i class="ion ion-md-create"></i><b>&nbsp;&nbsp;MODIFY</b></div>
            &nbsp;
            <div class="btn btn-xs btn-danger" (click)="deleteRuleRow(row, $event)"><i class="ion ion-md-close"></i><b>&nbsp;&nbsp;DELETE</b></div>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
</div>