<div class="modal-header">
    <h5 class="modal-title">
        View Asset Information<br>
        <small class="text-muted">Additional asset and alarm information.</small>
    </h5>
  </div>
  <div class="modal-body">
    <ngb-tabset class="nav-tabs-top mb-4 customtabset">
      <ngb-tab>
        <ng-template ngbTabTitle>
          <h6 style="margin-bottom: 0px !important">
            Overview
          </h6>
        </ng-template>
        <ng-template ngbTabContent>
          <div class="customtab">
            <form [formGroup]="viewAssetForm">
              <input type="hidden" formControlName="id">
              <div class="form-group">
                <label class="form-label">Asset ID / Number</label>
                <input type="text" formControlName="name" class="form-control" placeholder="A110001" readonly>
              </div>
              <div class="form-group">
                <label class="form-label">Asset Type</label>
                <ng-select [items]="type_selectOptions"
                  [multiple]="false"
                  [closeOnSelect]="true"
                  bindLabel="label"
                  bindValue="value"
                  placeholder="Select Asset Type"
                  formControlName="type"
                  [hideSelected]="true"
                  [clearable]="false"
                  [searchable]="false"
                  [isOpen]="false"
                >
                </ng-select>
              </div> 
              <div class="form-group">
                <label class="form-label">Site</label>
                <input type="text" formControlName="site" class="form-control" placeholder="Hospital Ipoh" readonly>
              </div>
              <div class="form-group">
                <label class="form-label">Controller IDs</label>
                <ng-select [items]="selectOptions"
                  [multiple]="true"
                  [closeOnSelect]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Select Controller IDs"
                  formControlName="controllerids"
                  [hideSelected]="true">
                </ng-select>
              </div>
              <div class="form-group">
                <label class="form-label">Location</label>
                <input type="text" formControlName="location" class="form-control" placeholder="Level 1 - Rehab" readonly>
              </div>
              <div class="form-group">
                <label class="form-label">Additional Information</label>
                <textarea formControlName="additional_info" class="form-control" placeholder="Main unit asset no., additional comments" readonly autosize></textarea>
              </div>
            </form>
        </div>
        </ng-template>
      </ngb-tab>

      <ngb-tab>
        <ng-template ngbTabTitle>
          <h6 style="margin-bottom: 0px !important">
            Related Alarms <div class="badge badge-warning">{{ this.related_alarm_counter }}</div>
          </h6>
        </ng-template>
        <ng-template ngbTabContent>
          <div class="customtab_related_alarms card-ngx-datatable table-responsive">
            <ngx-datatable #table
                        [rows]="rows"
                        [loadingIndicator]="loadingIndicator"
                        [columnMode]="'force'"
                        [headerHeight]="43"
                        [footerHeight]="'auto'"
                        [rowHeight]="'auto'"
                        [reorderable]="false"
                        [selectionType]="'row'"
                        [limit]="10">
            <ngx-datatable-column name="ID" [maxWidth]="100"></ngx-datatable-column>
            <ngx-datatable-column name="Timestamp" [maxWidth]="300" prop="timestamp_converted"></ngx-datatable-column>
            <ngx-datatable-column name="Controller" [maxWidth]="120"></ngx-datatable-column>
            <ngx-datatable-column name="Reason"></ngx-datatable-column>
            </ngx-datatable>
          </div>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="activeModal.dismiss('cancel');">Close</button>
</div>