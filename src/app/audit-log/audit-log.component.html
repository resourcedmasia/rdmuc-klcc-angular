<div *ngIf="!isHideDetail" class="card mb-4 p-3">
  <h4 class="card-header">
    <i class="ion ion-md-add-circle-outline"></i>&nbsp;&nbsp; Audit Log
  </h4>
  <div class="filter">
    <ngx-spinner style="z-index: 2;" [fullScreen]="false" type="line-scale" size="small" bdColor="rgba(39,39,45,1)"></ngx-spinner>
    <div>
      <ng-select appendTo="body" placeholder="Controller" [clearable]="false" [items]="controllerDropdown" [(ngModel)]="selectedController" (change)="onSelectController($event)"></ng-select>
    </div>
    <div style="margin-left: 10px;">
      <ng-select appendTo="body" placeholder="Action" [clearable]="false" [items]="actionDropdown" [(ngModel)]="selectedAction" (change)="onSelectAction($event)"></ng-select>
    </div>
    <div style="margin-left: 10px;">
      <ng-select appendTo="body" placeholder="MXGraph Name" [clearable]="false" [items]="graphDropdown" [(ngModel)]="selectedGraph" (change)="onSelectGraph($event)"></ng-select>
    </div>
    <input class="input-date" #selectedDate (change)="selectDateFn($event)" [(ngModel)]="dateValue" type="date" placeholder="Date">
    <button (click)="clearFilter()" class="btn btn-primary btn-filter">Clear</button>
  </div>
  <div class="scroll-table">
    <ng-container *ngIf="this.filterLogDetail.length > 0 && isLoading">
      <table class="table table-bordered table-hover">
        <thead>
          <tr class="table-header">
            <th>Id</th>
            <th style="min-width: 120px;">User</th>
            <th style="min-width: 120px;">Controller</th>
            <th style="min-width: 120px;">Action</th>
            <th style="min-width: 120px;">Mxgraph Name</th>
            <th style="min-width: 120px;">Date & Time</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of filterLogDetail | paginate: config">
            <td>{{item.id}}</td>
            <td>{{item.user}}</td>
            <td>{{item.controller}}</td>
            <td>{{item.action}}</td>
            <td>{{item.mxgraph_name}}</td>
            <td>{{item.time_stamp}}</td>
            <td>
              <button type="button" class="btn btn-primary" (click)="detailLog(item.id)">Detail</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="pagination">
        <pagination-controls (pageChange)="pageChange($event)"></pagination-controls>
      </div>
    </ng-container>
    <ng-container *ngIf="this.filterLogDetail.length == 0">
      <div class="no-data">
        <h6>{{displayMessage}}</h6>
      </div>
    </ng-container>
  </div>
</div>
<div *ngIf="isHideDetail" class="card mb-4 p-3">
  <h4 class="card-header">
    <i class="ion ion-md-add-circle-outline"></i>&nbsp;&nbsp; Audit Log Details
  </h4>
  <div>
    <button class="btn btn-primary header-btn" (click)="redirectBackUrl()">Back</button>
    <ul class="list-group">
      <li class="list-group-item">
        <span class="header-text">Id:</span>{{selectedLog.id}}
      </li>
      <li class="list-group-item">
        <span class="header-text">User:</span>{{selectedLog.user}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Controller:</span>{{selectedLog.controller}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Slave:</span>{{selectedLog.slave}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Action:</span>{{selectedLog.action}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Previous Value:</span>{{selectedLog.previous_value}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Change Value:</span>{{selectedLog.change_value}}
      </li>
      <li class="list-group-item">
        <span class="header-text">MXGraph Id:</span>{{selectedLog.mxgraph_id}}
      </li>
      <li class="list-group-item">
        <span class="header-text">MXGraph Name:</span>{{selectedLog.mxgraph_name}}
      </li>
      <li class="list-group-item">
        <span class="header-text">Date & Time:</span>{{selectedLog.time_stamp}}
      </li>
    </ul>
  </div>
</div>